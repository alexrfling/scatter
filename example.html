<!DOCTYPE html>
<html>
<head>
    <script src='d3-helpers/d3/d3.min.js'></script>
	<script src='d3-helpers/d3-tip/index.js'></script>
    <script src='d3-helpers/graphicalElement.js'></script>
    <script src='d3-helpers/axis.js'></script>
    <script src='d3-helpers/elementCollection.js'></script>
	<script src='d3-helpers/svgContainer.js'></script>
	<script src='d3-helpers/widget.js'></script>
    <script src='scatter.js'></script>
	<link rel='stylesheet' type='text/css' href='d3-helpers/d3-tip/examples/example-styles.css'>
	<link rel='stylesheet' type='text/css' href='d3-helpers/widget.css'>
</head>
<body>
    <button onclick='scatter.updateData(genData(1000));'>update</button>
    <select onchange='scatter.updateKeys(this.value, null);'>
		<option value='w'>w</option>
		<option value='x' selected>x</option>
		<option value='y'>y</option>
		<option value='z'>z</option>
	</select>
    <select onchange='scatter.updateKeys(null, this.value);'>
		<option value='w'>w</option>
		<option value='x'>x</option>
		<option value='y' selected>y</option>
		<option value='z'>z</option>
	</select>
    <div id='parent' style='border:solid 1px black;'></div>
	<script>
        function genData (size) {
            var arr = [];
            var max = Math.floor(Math.random() * 256);

            for (var j = 0; j < size; j++) {
                arr.push({
                    key: String(j),
                    w: Math.floor(Math.random() * max) - max / 2,
                    x: Math.floor(Math.random() * max) - max / 2,
                    y: Math.floor(Math.random() * max) - max / 2,
                    z: Math.floor(Math.random() * max) - max / 2,
                    label: (Math.random() < 0.5 ? 'yes' : 'no')
                });
            }

            return arr;
        }

		var scatter = new Scatter('parent');
        var data = genData(1000);
		var options = {
            colors: {
                yes: '#109618',
                no: '#3366cc'
            },
            xKey: 'x',
            yKey: 'y',
            labelKey: 'label',
            //random: true,
			height: 580
		};

		scatter.initialize(data, options);
	</script>
</body>
</html>
